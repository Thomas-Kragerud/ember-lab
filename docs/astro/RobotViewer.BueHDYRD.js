import{E as g,S as x,C as y,A as I,V as p,H as b,a as C,M as S,j as v}from"./ExtrasAsMetadata.Crj2IU2q.js";import{r as l}from"./index.BVOCwoKb.js";const M="/ember-lab";function j({glbPath:o}){const c=l.useRef(null),d=l.useRef(null);return l.useEffect(()=>{const s=d.current,u=c.current;if(!s||!u)return;const e=new g(s,!0),n=new x(e);n.clearColor=new y(0,0,0,0);const a=new I("camera",Math.PI/2,Math.PI/3,2.5,p.Zero(),n);a.lowerRadiusLimit=1.5,a.upperRadiusLimit=6,a.wheelPrecision=50,a.attachControl(s,!1),n.registerBeforeRender(()=>{a.alpha+=.001}),new b("hemi",new p(0,1,0),n).intensity=.8;const r=document.createElement("div");r.className="robot-loader-overlay",r.innerHTML=`
      <div class="robot-loader-spinner">
        <img src="${M}/images/ember_icon.webp"
             class="robot-loader-logo" alt="Ember logo"/>
      </div>`,u.appendChild(r);class w{displayLoadingUI(){r.style.display="flex"}hideLoadingUI(){r.style.display="none"}}e.loadingScreen=new w,e.displayLoadingUI();const i=o.lastIndexOf("/"),L=i!==-1?o.slice(0,i+1):"/",h=i!==-1?o.slice(i+1):o;C.Append(L,h,n,()=>e.hideLoadingUI(),null,(t,E,R)=>{console.error("Model load error:",E,R),e.hideLoadingUI()}),S.CreateBox("cube",{size:.1},n);const m=t=>t.preventDefault();s.addEventListener("wheel",m,{passive:!1}),e.runRenderLoop(()=>n.render());const f=()=>e.resize();return window.addEventListener("resize",f),()=>{s.removeEventListener("wheel",m),window.removeEventListener("resize",f),e.dispose(),r.remove()}},[o]),v.jsx("div",{ref:c,className:"relative w-full h-full",children:v.jsx("canvas",{ref:d,className:"w-full h-full outline-none"})})}export{j as default};
